@page "/products"
@using BlazorWebAssemblyApp.Services
@using BlazorWebAssemblyApp.Shared
@using Domain.Models
@inject IProductService Api

<h3>Product List</h3>

<Loader IsLoading=@isLoading>

    <Content>
        <ul>
            @foreach (var product in products)
            {
                <li>@product.Id @product.Name @product.Description @product.Price</li>
            }
        </ul>
    </Content>

</Loader>

@code {

    private List<Product>? products;

    private bool isLoading => products is null;

    protected override async Task OnInitializedAsync()
    {
        products = await Api.GetAll();
    }



}
